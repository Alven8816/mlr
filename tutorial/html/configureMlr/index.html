<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">

        <title>Configuration - mlr tutorial</title>

        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../css/prettify-1.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="..">mlr tutorial</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Home</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Basics <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../task/">Tasks</a>
                            </li>
                        
                            <li >
                                <a href="../learner/">Learner</a>
                            </li>
                        
                            <li >
                                <a href="../train/">Train</a>
                            </li>
                        
                            <li >
                                <a href="../predict/">Predict</a>
                            </li>
                        
                            <li >
                                <a href="../performance/">Performance</a>
                            </li>
                        
                            <li >
                                <a href="../resample/">Resampling</a>
                            </li>
                        
                            <li >
                                <a href="../benchmark_experiments/">Benchmark Experiments</a>
                            </li>
                        
                            <li >
                                <a href="../parallelization/">Parallelization</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Advanced <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li class="active">
                                <a href="./">Configuration</a>
                            </li>
                        
                            <li >
                                <a href="../wrapper/">Wrapper</a>
                            </li>
                        
                            <li >
                                <a href="../makeBaggingWrapper/">Bagging</a>
                            </li>
                        
                            <li >
                                <a href="../tune/">Tuning</a>
                            </li>
                        
                            <li >
                                <a href="../feature_selection/">Feature Selection</a>
                            </li>
                        
                            <li >
                                <a href="../cost_sensitive_classif/">Cost-Sensitive Classification</a>
                            </li>
                        
                            <li >
                                <a href="../over_and_undersampling/">Over- and Undersampling</a>
                            </li>
                        
                            <li >
                                <a href="../roc_analysis/">ROC Analysis</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Extend <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../create_learner/">Create Custom Learners</a>
                            </li>
                        
                            <li >
                                <a href="../create_measure/">Create Custom Measures</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Appendix <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../integrated_learners/">Integrated Learners</a>
                            </li>
                        
                            <li >
                                <a href="../measures/">Performance Measures</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                </ul>
            

            
            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                
                <li >
                    <a rel="next" href="../parallelization/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../wrapper/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                
                <li>
                    <a href="https://github.com/berndbischl/mlr/">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
            
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#configure-mlr">Configure mlr</a></li>
        
            <li><a href="#example-reduce-the-output-on-the-console">Example: Reduce the output on the console</a></li>
        
            <li><a href="#access-the-current-configuration">Access the current configuration</a></li>
        
            <li><a href="#example-turn-off-parameter-checking">Example: Turn off parameter checking</a></li>
        
            <li><a href="#example-handle-errors-in-an-underlying-learning-method">Example: Handle errors in an underlying learning method</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="configure-mlr">Configure mlr</h1>
<p>If you really know what you are doing you may think <strong>mlr</strong> is limiting you in certain ways.
Actually <strong>mlr</strong> is just designed to make errors due to typos or invalid parameter values
as unlikely as possible.
But sometimes you want to break those barriers and get full access.
For all parameters, simply refer to the documentation of <a href="http://www.rdocumentation.org/packages/mlr/functions/configureMlr.html">configureMlr</a>.</p>
<h2 id="example-reduce-the-output-on-the-console">Example: Reduce the output on the console</h2>
<p>You are bothered by all the output on the console like in this example?</p>
<pre class="prettyprint well"><code class="r">## Perform a 3-fold cross-validation
r = resample(&quot;classif.ksvm&quot;, iris.task, iris.rin)
</code></pre>

<pre class="prettyprint well"><code>## Loading required package: kernlab
## [Resample] cross-validation iter: 1
</code></pre>

<pre class="prettyprint well"><code>## Using automatic sigma estimation (sigest) for RBF or laplace kernel
</code></pre>

<pre class="prettyprint well"><code>## [Resample] cross-validation iter: 2
</code></pre>

<pre class="prettyprint well"><code>## Using automatic sigma estimation (sigest) for RBF or laplace kernel
</code></pre>

<pre class="prettyprint well"><code>## [Resample] cross-validation iter: 3
</code></pre>

<pre class="prettyprint well"><code>## Using automatic sigma estimation (sigest) for RBF or laplace kernel
</code></pre>

<pre class="prettyprint well"><code>## [Resample] Result: mmce.test.mean=0.04
</code></pre>

<p>Just try the following:</p>
<pre class="prettyprint well"><code class="r">configureMlr(show.learner.output = FALSE)
r = resample(&quot;classif.ksvm&quot;, iris.task, iris.rin)
</code></pre>

<pre class="prettyprint well"><code>## [Resample] cross-validation iter: 1
## [Resample] cross-validation iter: 2
## [Resample] cross-validation iter: 3
## [Resample] Result: mmce.test.mean=0.04
</code></pre>

<h2 id="access-the-current-configuration">Access the current configuration</h2>
<p>Function <a href="http://www.rdocumentation.org/packages/mlr/functions/getMlrOptions.html">getMlrOptions</a> returns a <code>list</code> that shows the current configuration:</p>
<pre class="prettyprint well"><code class="r">getMlrOptions()
</code></pre>

<pre class="prettyprint well"><code>## $on.learner.error
## [1] &quot;stop&quot;
## 
## $on.learner.warning
## [1] &quot;warn&quot;
## 
## $on.par.without.desc
## [1] &quot;stop&quot;
## 
## $show.info
## [1] TRUE
## 
## $show.learner.output
## [1] FALSE
</code></pre>

<h2 id="example-turn-off-parameter-checking">Example: Turn off parameter checking</h2>
<p>In an additional scenario, you want to access a new parameter of a <a href="http://www.rdocumentation.org/packages/mlr/functions/makeLEarner.html">Learner</a> which
is already available in <strong>mlr</strong>, but the parameter is not implemented in <strong>mlr</strong> yet.
If this is the case you might want to <a href="https://github.com/berndbischl/mlr#get-in-touch">contact us</a>
or <a href="https://github.com/berndbischl/mlr/issues/new">open an issue</a> as well!
But until then you can turn off <strong>mlr</strong>'s parameter checking like this:</p>
<pre class="prettyprint well"><code class="r">lrn = makeLearner(&quot;classif.ksvm&quot;, newPar = 3)
</code></pre>

<pre class="prettyprint well"><code>## Error: classif.ksvm: Setting parameter newPar without available description object!
## You can switch off this check by using configureMlr!
</code></pre>

<pre class="prettyprint well"><code class="r">lrn = makeLearner(&quot;classif.ksvm&quot;, epsilon = -3)
</code></pre>

<pre class="prettyprint well"><code>## Error: classif.ksvm: Setting parameter epsilon without available description object!
## You can switch off this check by using configureMlr!
</code></pre>

<pre class="prettyprint well"><code class="r">configureMlr(on.par.without.desc = &quot;quiet&quot;)
lrn = makeLearner(&quot;classif.ksvm&quot;, newPar = 3)
lrn = makeLearner(&quot;classif.ksvm&quot;, epsilon = -3)
</code></pre>

<h2 id="example-handle-errors-in-an-underlying-learning-method">Example: Handle errors in an underlying learning method</h2>
<p>Another not uncommon situation is that a particular learning method throws an error.
The default behavior of <strong>mlr</strong> is to generate an exception as well.
However, in some situations, for example if you conduct a <a href="&amp;benchmark_experiments.md">benchmark study</a>
with multiple data sets and learners, you normally do not want to terminate the whole
benchmark experiment due to one error.
The following example shows how to prevent this:</p>
<pre class="prettyprint well"><code class="r">## This call gives an error caused by the low number of observations in class `virginica`
train(&quot;classif.qda&quot;, task = iris.task, subset = 1:104)
</code></pre>

<pre class="prettyprint well"><code>## Loading required package: MASS
</code></pre>

<pre class="prettyprint well"><code>## Error: some group is too small for 'qda'
</code></pre>

<pre class="prettyprint well"><code>## Timing stopped at: 0.007 0 0.009
</code></pre>

<pre class="prettyprint well"><code class="r">configureMlr(on.learner.error = &quot;warn&quot;)
mod = train(&quot;classif.qda&quot;, task = iris.task, subset = 1:104)
</code></pre>

<pre class="prettyprint well"><code>## Warning: Could not train learner classif.qda: Error in qda.default(x, grouping, ...) : 
##   some group is too small for 'qda'
</code></pre>

<pre class="prettyprint well"><code class="r">mod
</code></pre>

<pre class="prettyprint well"><code>## Model for id = classif.qda class = classif.qda
## Trained on obs: 104
## Used features: 4
## Hyperparameters: 
## Training failed: Error in qda.default(x, grouping, ...) : 
##   some group is too small for 'qda'
## 
## Training failed: Error in qda.default(x, grouping, ...) : 
##   some group is too small for 'qda'
</code></pre>

<pre class="prettyprint well"><code class="r">## mod is an object of class FailureModel
isFailureModel(mod)
</code></pre>

<pre class="prettyprint well"><code>## [1] TRUE
</code></pre>

<pre class="prettyprint well"><code class="r">## Get the error message
getFailureModelMsg(mod)
</code></pre>

<pre class="prettyprint well"><code>## [1] &quot;Error in qda.default(x, grouping, ...) : \n  some group is too small for 'qda'\n&quot;
</code></pre>

<pre class="prettyprint well"><code class="r">## NAs are predicted
predict(mod, iris.task)
</code></pre>

<pre class="prettyprint well"><code>## Prediction:
## predict.type: response
## threshold: 
## time: NA
##   id  truth response
## 1  1 setosa     &lt;NA&gt;
## 2  2 setosa     &lt;NA&gt;
## 3  3 setosa     &lt;NA&gt;
## 4  4 setosa     &lt;NA&gt;
## 5  5 setosa     &lt;NA&gt;
## 6  6 setosa     &lt;NA&gt;
</code></pre>

<p>Instead of an exception a warning is issued and a <a href="http://www.rdocumentation.org/packages/mlr/functions/FailureModel.html">FailureModel</a> is created that predicts
<code>NA</code>s for all new observations. Function <a href="http://www.rdocumentation.org/packages/mlr/functions/getFailureModelMsg.html">getFailureModelMsg</a> extracts the error
message.</p>
</div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/prettify-1.0.min.js"></script>
        <script src="../js/base.js"></script>
        
    </body>
</html>